# Eureka面试题整理

- [Eureka面试题整理](#eureka面试题整理)
  - [怎么解决Eureka某一个服务挂掉的问题](#怎么解决eureka某一个服务挂掉的问题)
  - [Eureka Server如何应对并发请求](#eureka-server如何应对并发请求)

## 怎么解决Eureka某一个服务挂掉的问题

同一个服务部署了多个实例，在通过网关调用时会随机调用其中一个。但是，当某个服务挂掉之后，依然在注册中心中，依然会随机被调用到，调用时便会超时报错。（主要是开发测试或者演示时需要立即将失效的从注册中心剔除。）

1、需要在注册中心，将eureka.server.eviction-interval-timer-in-ms改小，默认60秒，配置文件中单位是毫秒。

## Eureka Server如何应对并发请求

每分钟拉取服务2次，每分钟心跳请求2次，即每分钟会有4次请求。如果有2000个服务，那么每分钟就有8000次请求，即每秒有133次请求，约每分钟有150次。

Eureka Server的应对方式是：

- ①对注册表操作使用读写锁优化；
- ②注册表的多级缓存机制

